# 存档与路径模块设计

## 模块目标
- 支持“随时中断、下次继续”的本地持久化体验。
- 让玩家可自选配置与存档目录，保持可控性。
- 在内容规模增长时保持保存性能与稳定性。

## 核心体验规则
- 关键行为后自动保存。
- 支持导入、清空与继续读取当前存档。
- 配置文件与存档文件由用户显式选择路径。
- 存档实现采用“逻辑单存档 + 物理分片文件”，避免单文件臃肿。

## 参数枚举（设计层）
- 路径类型：`config_path`、`save_path`
- 存档动作：`load`、`save`、`import`、`clear`
- 清空策略：`二次确认`、`空快照覆盖`
- 物理存储模式：`pointer_file`、`bundle_parts`
- 兼容策略：`backward_read_legacy`、`forward_write_bundle`

## 交互约束
- 清空存档需二次确认。
- 清空后默认数据应可恢复到可玩状态。
- 路径选择失败时应给出可理解提示，不中断会话。
- 存档文件体积增长不应明显影响常规操作响应。

## 验收标准
- 关闭浏览器后可从当前存档恢复。
- 切换路径后仍可正常读写配置与存档。
- 清空存档后玩家与会话状态恢复默认可用值。
- 旧版单文件存档仍可读取。
- 新版存档写入后可稳定回读且不丢字段。
